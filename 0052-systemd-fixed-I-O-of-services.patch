From e08710a28979575f676be63658310df849b29076 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Thu, 21 Jun 2012 01:08:29 +0200
Subject: [PATCH] systemd: fixed I/O of services

---
 modules.d/98systemd/dracut-initqueue.service   |    6 +++---
 modules.d/98systemd/dracut-pre-pivot.service   |    6 +++---
 modules.d/98systemd/dracut-pre-trigger.service |    6 +++---
 modules.d/98systemd/dracut-pre-udev.service    |    6 +++---
 4 files changed, 12 insertions(+), 12 deletions(-)

diff --git a/modules.d/98systemd/dracut-initqueue.service b/modules.d/98systemd/dracut-initqueue.service
index 89aa304..4f86eaf 100644
--- a/modules.d/98systemd/dracut-initqueue.service
+++ b/modules.d/98systemd/dracut-initqueue.service
@@ -18,9 +18,9 @@ Environment=HOME=/
 WorkingDirectory=/
 ExecStart=-/bin/dracut-initqueue
 Type=simple
-StandardInput=tty
-StandardOutput=journal+console
-StandardError=inherit
+StandardInput=null
+StandardOutput=syslog
+StandardError=syslog+console
 KillMode=process
 
 # Bash ignores SIGTERM, so we send SIGHUP instead, to ensure that bash
diff --git a/modules.d/98systemd/dracut-pre-pivot.service b/modules.d/98systemd/dracut-pre-pivot.service
index 0e04cb4..e61750b 100644
--- a/modules.d/98systemd/dracut-pre-pivot.service
+++ b/modules.d/98systemd/dracut-pre-pivot.service
@@ -17,9 +17,9 @@ Environment=HOME=/
 WorkingDirectory=/
 ExecStart=-/bin/dracut-pre-pivot
 Type=oneshot
-StandardInput=tty
-StandardOutput=journal+console
-StandardError=inherit
+StandardInput=null
+StandardOutput=syslog
+StandardError=syslog+console
 KillMode=process
 
 # Bash ignores SIGTERM, so we send SIGHUP instead, to ensure that bash
diff --git a/modules.d/98systemd/dracut-pre-trigger.service b/modules.d/98systemd/dracut-pre-trigger.service
index 1ab07a1..234839c 100644
--- a/modules.d/98systemd/dracut-pre-trigger.service
+++ b/modules.d/98systemd/dracut-pre-trigger.service
@@ -19,9 +19,9 @@ Environment=HOME=/
 WorkingDirectory=/
 ExecStart=-/bin/dracut-pre-trigger
 Type=oneshot
-StandardInput=tty
-StandardOutput=journal+console
-StandardError=inherit
+StandardInput=null
+StandardOutput=syslog
+StandardError=syslog+console
 KillMode=process
 
 # Bash ignores SIGTERM, so we send SIGHUP instead, to ensure that bash
diff --git a/modules.d/98systemd/dracut-pre-udev.service b/modules.d/98systemd/dracut-pre-udev.service
index 579316e..11be61b 100644
--- a/modules.d/98systemd/dracut-pre-udev.service
+++ b/modules.d/98systemd/dracut-pre-udev.service
@@ -19,9 +19,9 @@ Environment=HOME=/
 WorkingDirectory=/
 ExecStart=-/bin/dracut-pre-udev
 Type=oneshot
-StandardInput=tty
-StandardOutput=journal+console
-StandardError=inherit
+StandardInput=null
+StandardOutput=syslog
+StandardError=syslog+console
 KillMode=process
 
 # Bash ignores SIGTERM, so we send SIGHUP instead, to ensure that bash
