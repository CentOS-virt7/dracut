From 900e15da342db2675d7ccd3ca17907bc6ec8cfc5 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Fri, 8 Mar 2013 11:50:03 +0100
Subject: [PATCH] systemd/module-setup.sh: call systemd in private dir for
 version

---
 modules.d/98systemd/module-setup.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/modules.d/98systemd/module-setup.sh b/modules.d/98systemd/module-setup.sh
index 3ce1705..32d4be5 100755
--- a/modules.d/98systemd/module-setup.sh
+++ b/modules.d/98systemd/module-setup.sh
@@ -17,7 +17,7 @@ depends() {
 
 install() {
 
-    SYSTEMD_VERSION=$(systemd --version | { read a b a; echo $b; })
+    SYSTEMD_VERSION=$($systemdutildir/systemd --version | { read a b a; echo $b; })
     if (( $SYSTEMD_VERSION < 198 )); then
         dfatal "systemd version $SYSTEMD_VERSION is too low. Need at least version 198."
         exit 1
