From 19cd47fd26d072000a49661f78fc0a7200116ef6 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Mon, 30 Jul 2012 17:06:48 +0200
Subject: [PATCH] plymouth/plymouth-newroot.sh: don't "exit 0" for sourced
 scripts

---
 modules.d/50plymouth/plymouth-newroot.sh | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/modules.d/50plymouth/plymouth-newroot.sh b/modules.d/50plymouth/plymouth-newroot.sh
index 58ac11f..2311b47 100755
--- a/modules.d/50plymouth/plymouth-newroot.sh
+++ b/modules.d/50plymouth/plymouth-newroot.sh
@@ -2,5 +2,6 @@
 # -*- mode: shell-script; indent-tabs-mode: nil; sh-basic-offset: 4; -*-
 # ex: ts=8 sw=4 sts=4 et filetype=sh
 
-[ -x /bin/plymouth -a -z "$DRACUT_SYSTEMD" ] || exit 0
-/bin/plymouth --newroot=$NEWROOT
+if [ -x /bin/plymouth -a -z "$DRACUT_SYSTEMD" ]; then
+    /bin/plymouth --newroot=$NEWROOT
+fi
