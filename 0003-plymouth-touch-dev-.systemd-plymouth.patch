From 1cedde068192af7536479ff5fb159c75fc7d7ed6 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Wed, 9 Feb 2011 13:22:49 +0100
Subject: [PATCH] plymouth: touch /dev/.systemd/plymouth

until plymouth does it itsself, touch /dev/.systemd/plymouth
https://bugzilla.redhat.com/show_bug.cgi?id=676302
---
 modules.d/50plymouth/plymouth-pretrigger.sh |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/modules.d/50plymouth/plymouth-pretrigger.sh b/modules.d/50plymouth/plymouth-pretrigger.sh
index 0800dbc..c224875 100755
--- a/modules.d/50plymouth/plymouth-pretrigger.sh
+++ b/modules.d/50plymouth/plymouth-pretrigger.sh
@@ -18,6 +18,8 @@ if getargbool 1 rd.plymouth -n rd_NO_PLYMOUTH; then
 
     info "Starting plymouth daemon"
     [ -x /bin/plymouthd ] && /bin/plymouthd --attach-to-session
+    mkdir -m 0755 /dev/.systemd >/dev/null 2>&1
+    >/dev/.systemd/plymouth
     /lib/udev/console_init tty0
     /bin/plymouth --show-splash 2>&1 | vinfo
 fi
