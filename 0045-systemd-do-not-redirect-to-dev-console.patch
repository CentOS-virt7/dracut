From f6eb1f1d1f608b9b9983bdfaf4a867143e21b2b7 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Thu, 21 Jun 2012 01:02:48 +0200
Subject: [PATCH] systemd: do not redirect to /dev/console

---
 modules.d/98systemd/dracut-cmdline.sh     |    2 --
 modules.d/98systemd/dracut-initqueue.sh   |    1 -
 modules.d/98systemd/dracut-pre-pivot.sh   |    1 -
 modules.d/98systemd/dracut-pre-trigger.sh |    1 -
 modules.d/98systemd/dracut-pre-udev.sh    |    1 -
 5 files changed, 6 deletions(-)

diff --git a/modules.d/98systemd/dracut-cmdline.sh b/modules.d/98systemd/dracut-cmdline.sh
index 26ca9c2..e1a75ea 100755
--- a/modules.d/98systemd/dracut-cmdline.sh
+++ b/modules.d/98systemd/dracut-cmdline.sh
@@ -7,8 +7,6 @@ NEWROOT="/sysroot"
 [ -d /run/initramfs ] || mkdir -p -m 0755 /run/initramfs
 [ -d /run/lock ] || mkdir -p -m 0755 /run/lock
 
-exec </dev/console >/dev/console 2>&1
-
 if [ -f /dracut-state.sh ]; then
     . /dracut-state.sh || :
 fi
diff --git a/modules.d/98systemd/dracut-initqueue.sh b/modules.d/98systemd/dracut-initqueue.sh
index 5d51a80..830dbee 100755
--- a/modules.d/98systemd/dracut-initqueue.sh
+++ b/modules.d/98systemd/dracut-initqueue.sh
@@ -1,7 +1,6 @@
 #!/bin/sh
 # -*- mode: shell-script; indent-tabs-mode: nil; sh-basic-offset: 4; -*-
 # ex: ts=8 sw=4 sts=4 et filetype=sh
-exec </dev/console >/dev/console 2>&1
 
 if [ -f /dracut-state.sh ]; then
     . /dracut-state.sh || :
diff --git a/modules.d/98systemd/dracut-pre-pivot.sh b/modules.d/98systemd/dracut-pre-pivot.sh
index a8e9fc1..eb7e932 100755
--- a/modules.d/98systemd/dracut-pre-pivot.sh
+++ b/modules.d/98systemd/dracut-pre-pivot.sh
@@ -2,7 +2,6 @@
 # -*- mode: shell-script; indent-tabs-mode: nil; sh-basic-offset: 4; -*-
 # ex: ts=8 sw=4 sts=4 et filetype=sh
 
-exec </dev/console >/dev/console 2>&1
 if [ -f /dracut-state.sh ]; then
     . /dracut-state.sh || :
 fi
diff --git a/modules.d/98systemd/dracut-pre-trigger.sh b/modules.d/98systemd/dracut-pre-trigger.sh
index 0539a01..9521eaa 100755
--- a/modules.d/98systemd/dracut-pre-trigger.sh
+++ b/modules.d/98systemd/dracut-pre-trigger.sh
@@ -1,7 +1,6 @@
 #!/bin/sh
 # -*- mode: shell-script; indent-tabs-mode: nil; sh-basic-offset: 4; -*-
 # ex: ts=8 sw=4 sts=4 et filetype=sh
-exec </dev/console >/dev/console 2>&1
 
 if [ -f /dracut-state.sh ]; then
     . /dracut-state.sh || :
diff --git a/modules.d/98systemd/dracut-pre-udev.sh b/modules.d/98systemd/dracut-pre-udev.sh
index 5740174..3b5ac37 100755
--- a/modules.d/98systemd/dracut-pre-udev.sh
+++ b/modules.d/98systemd/dracut-pre-udev.sh
@@ -2,7 +2,6 @@
 # -*- mode: shell-script; indent-tabs-mode: nil; sh-basic-offset: 4; -*-
 # ex: ts=8 sw=4 sts=4 et filetype=sh
 
-exec </dev/console >/dev/console 2>&1
 if [ -f /dracut-state.sh ]; then
     . /dracut-state.sh || :
 fi
