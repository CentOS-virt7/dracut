From b1b678427e0a158487a2a3ef5a1be39f891a1cc3 Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Wed, 20 Jul 2011 21:38:07 +0200
Subject: [PATCH] 99base/dracut-lib.sh: fix previous getargs patch

patch 9e7f4955895c1064e3bdd03f5f781efc9b98d5d6 ignored
"getargs key=value"
---
 modules.d/99base/dracut-lib.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/modules.d/99base/dracut-lib.sh b/modules.d/99base/dracut-lib.sh
index c2202f1..6807b53 100755
--- a/modules.d/99base/dracut-lib.sh
+++ b/modules.d/99base/dracut-lib.sh
@@ -52,7 +52,7 @@ _dogetarg() {
     _getcmdline
 
     for _o in $CMDLINE; do
-        if [ "${_o%%=*}" = "${1%=}" ]; then
+        if [ "${_o%%=*}" = "${1%%=*}" ]; then
             if [ -n "${1#*=}" -a "${1#*=*}" != "${1}" ]; then
                 # if $1 has a "=<value>", we want the exact match
                 if [ "$_o" = "$1" ]; then
