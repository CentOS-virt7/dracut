From 852105dc44d4bdfda8d988146f08f4a60bce979c Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Fri, 27 Jul 2012 14:11:22 +0200
Subject: [PATCH] i18n/console_init.sh: skip, if we use systemd and use
 systemd-vconsole-init

---
 modules.d/10i18n/console_init.sh | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/modules.d/10i18n/console_init.sh b/modules.d/10i18n/console_init.sh
index 37efdd1..24eaad8 100755
--- a/modules.d/10i18n/console_init.sh
+++ b/modules.d/10i18n/console_init.sh
@@ -2,7 +2,11 @@
 # -*- mode: shell-script; indent-tabs-mode: nil; sh-basic-offset: 4; -*-
 # ex: ts=8 sw=4 sts=4 et filetype=sh
 
-[ -x /lib/systemd/systemd-vconsole-setup ] && exit 0
+[ -x /lib/systemd/systemd ] && exit 0
+
+if [ -x /lib/systemd/systemd-vconsole-setup ]; then
+    /lib/systemd/systemd-vconsole-setup "$@"
+fi
 
 [ -e /etc/vconsole.conf ] && . /etc/vconsole.conf
 
