From b23a2837db758215c9855f14b7d1081b7ad0077c Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Thu, 14 Jun 2012 13:04:22 +0200
Subject: [PATCH] add PARTUUID as root=PARTUUID=<partition uuid> parameter

---
 dracut.cmdline.7.asc                    |    1 +
 modules.d/95rootfs-block/parse-block.sh |    4 ++++
 2 files changed, 5 insertions(+)

diff --git a/dracut.cmdline.7.asc b/dracut.cmdline.7.asc
index 9fa0ee8..883223c 100644
--- a/dracut.cmdline.7.asc
+++ b/dracut.cmdline.7.asc
@@ -47,6 +47,7 @@ root=/dev/disk/by-label/Root
 root=LABEL=Root
 root=/dev/disk/by-uuid/3f5ad593-4546-4a94-a374-bcfb68aa11f7
 root=UUID=3f5ad593-4546-4a94-a374-bcfb68aa11f7
+root=PARTUUID=3f5ad593-4546-4a94-a374-bcfb68aa11f7
 ----
 
 **rootfstype=**_<filesystem type>_:: "auto" if not specified, e.g.:
diff --git a/modules.d/95rootfs-block/parse-block.sh b/modules.d/95rootfs-block/parse-block.sh
index 69f38be..3745352 100755
--- a/modules.d/95rootfs-block/parse-block.sh
+++ b/modules.d/95rootfs-block/parse-block.sh
@@ -12,6 +12,10 @@ case "$root" in
         root="${root#block:}"
         root="block:/dev/disk/by-uuid/${root#UUID=}"
         rootok=1 ;;
+    block:PARTUUID=*|PARTUUID=*)
+        root="${root#block:}"
+        root="block:/dev/disk/by-partuuid/${root#PARTUUID=}"
+        rootok=1 ;;
     /dev/*)
         root="block:${root}"
         rootok=1 ;;
