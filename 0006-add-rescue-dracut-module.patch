From aede120c92e08712e5ab93b283b12ab5f3df510d Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Sat, 9 Mar 2013 15:15:41 +0100
Subject: [PATCH] add rescue dracut module

---
 modules.d/03rescue/module-setup.sh | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)
 create mode 100755 modules.d/03rescue/module-setup.sh

diff --git a/modules.d/03rescue/module-setup.sh b/modules.d/03rescue/module-setup.sh
new file mode 100755
index 0000000..3f10b7c
--- /dev/null
+++ b/modules.d/03rescue/module-setup.sh
@@ -0,0 +1,19 @@
+#!/bin/bash
+# -*- mode: shell-script; indent-tabs-mode: nil; sh-basic-offset: 4; -*-
+# ex: ts=8 sw=4 sts=4 et filetype=sh
+
+check() {
+    # do not add this module by default
+    return 255
+}
+
+depends() {
+    return 0
+}
+
+install() {
+    dracut_install -o ps grep more cat rm strace free showmount \
+        ping netstat rpcinfo vi scp ping6 ssh \
+        fsck fsck.ext2 fsck.ext4 fsck.ext3 fsck.ext4dev fsck.vfat e2fsck
+}
+
